[gd_scene load_steps=16 format=2]

[ext_resource path="res://Puzzle Piece System/Reflector System/Reflection Receiver.tscn" type="PackedScene" id=1]
[ext_resource path="res://Puzzle Piece System/Puzzle Key Shape/Key Shape Part.tscn" type="PackedScene" id=2]
[ext_resource path="res://icon.png" type="Texture" id=3]
[ext_resource path="res://Foreground/Foreground.tscn" type="PackedScene" id=4]
[ext_resource path="res://Background/Background.tscn" type="PackedScene" id=6]
[ext_resource path="res://Puzzle Piece System/Reflector System/Laser.tscn" type="PackedScene" id=8]
[ext_resource path="res://Puzzle Piece System/Puzzle Key Shape/Puzzle Key Shape.tscn" type="PackedScene" id=15]
[ext_resource path="res://Transition Handler/Triggers/Trigger.tscn" type="PackedScene" id=17]
[ext_resource path="res://Puzzle Piece System/Puzzle Pieces/Square/Square.tscn" type="PackedScene" id=19]
[ext_resource path="res://Puzzle Piece System/Puzzle Pieces/Platform/Platform.tscn" type="PackedScene" id=21]
[ext_resource path="res://Puzzle Piece System/Reflector System/Reflector System.tscn" type="PackedScene" id=23]
[ext_resource path="res://Puzzle Piece System/Door/Door.tscn" type="PackedScene" id=26]
[ext_resource path="res://Puzzle Piece System/Puzzle Pieces/Triangle/Triangle.tscn" type="PackedScene" id=27]

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="TileSet" id=1]
0/name = "icon.png 0"
0/texture = ExtResource( 3 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 64, 64 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 2 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[node name="Level 2" type="Node2D"]

[node name="Background" parent="." instance=ExtResource( 6 )]

[node name="Background2" parent="." instance=ExtResource( 6 )]
position = Vector2( 0, -1024 )

[node name="Background3" parent="." instance=ExtResource( 6 )]
position = Vector2( 0, -2048 )

[node name="Foreground" parent="." instance=ExtResource( 4 )]
tile_set = SubResource( 1 )
tile_data = PoolIntArray( -2686977, 0, 0, -2752512, 0, 0, -2752511, 0, 0, -2752510, 0, 0, -2752509, 0, 0, -2752508, 0, 0, -2752507, 0, 0, -2752506, 0, 0, -2752505, 0, 0, -2752504, 0, 0, -2752503, 0, 0, -2752502, 0, 0, -2752501, 0, 0, -2752500, 0, 0, -2752499, 0, 0, -2752498, 0, 0, -2752497, 0, 0, -2752496, 0, 0, -2752495, 0, 0, -2752494, 0, 0, -2752493, 0, 0, -2752492, 0, 0, -2752491, 0, 0, -2752490, 0, 0, -2752489, 0, 0, -2752488, 0, 0, -2752487, 0, 0, -2752486, 0, 0, -2752485, 0, 0, -2752484, 0, 0, -2752483, 0, 0, -2752482, 0, 0, -2752481, 0, 0, -2621441, 0, 0, -2686945, 0, 0, -2555905, 0, 0, -2621409, 0, 0, -2490369, 0, 0, -2555873, 0, 0, -2424833, 0, 0, -2490337, 0, 0, -2359297, 0, 0, -2424801, 0, 0, -2293761, 0, 0, -2359265, 0, 0, -2228225, 0, 0, -2293729, 0, 0, -2162689, 0, 0, -2228193, 0, 0, -2097153, 0, 0, -2162657, 0, 0, -2031617, 0, 0, -2097121, 0, 0, -1966081, 0, 0, -2031585, 0, 0, -1900545, 0, 0, -1966074, 0, 0, -1966073, 0, 0, -1966072, 0, 0, -1966071, 0, 0, -1966070, 0, 0, -1966069, 0, 0, -1966068, 0, 0, -1966067, 0, 0, -1966066, 0, 0, -1966065, 0, 0, -1966064, 0, 0, -1966063, 0, 0, -1966062, 0, 0, -1966061, 0, 0, -1966060, 0, 0, -1966059, 0, 0, -1966058, 0, 0, -1966057, 0, 0, -1966056, 0, 0, -1966055, 0, 0, -1966054, 0, 0, -1966053, 0, 0, -1966052, 0, 0, -1966051, 0, 0, -1966050, 0, 0, -1966049, 0, 0, -1835009, 0, 0, -1900538, 0, 0, -1900513, 0, 0, -1769473, 0, 0, -1835002, 0, 0, -1834977, 0, 0, -1703937, 0, 0, -1769466, 0, 0, -1769441, 0, 0, -1638401, 0, 0, -1703930, 0, 0, -1703905, 0, 0, -1572865, 0, 0, -1638394, 0, 0, -1638369, 0, 0, -1507329, 0, 0, -1572858, 0, 0, -1572833, 0, 0, -1441793, 0, 0, -1507314, 0, 0, -1507297, 0, 0, -1376257, 0, 0, -1441778, 0, 0, -1441777, 0, 0, -1441761, 0, 0, -1310721, 0, 0, -1376242, 0, 0, -1376241, 0, 0, -1376240, 0, 0, -1376225, 0, 0, -1245185, 0, 0, -1310706, 0, 0, -1310705, 0, 0, -1310704, 0, 0, -1310703, 0, 0, -1310689, 0, 0, -1179649, 0, 0, -1245170, 0, 0, -1245169, 0, 0, -1245168, 0, 0, -1245167, 0, 0, -1245166, 0, 0, -1245153, 0, 0, -1114113, 0, 0, -1179634, 0, 0, -1179633, 0, 0, -1179632, 0, 0, -1179631, 0, 0, -1179630, 0, 0, -1179629, 0, 0, -1179617, 0, 0, -1048577, 0, 0, -1114112, 0, 0, -1114111, 0, 0, -1114110, 0, 0, -1114109, 0, 0, -1114108, 0, 0, -1114107, 0, 0, -1114106, 0, 0, -1114105, 0, 0, -1114104, 0, 0, -1114103, 0, 0, -1114102, 0, 0, -1114101, 0, 0, -1114100, 0, 0, -1114099, 0, 0, -1114098, 0, 0, -1114097, 0, 0, -1114096, 0, 0, -1114095, 0, 0, -1114094, 0, 0, -1114093, 0, 0, -1114092, 0, 0, -1114081, 0, 0, -983041, 0, 0, -1048561, 0, 0, -1048560, 0, 0, -1048559, 0, 0, -1048558, 0, 0, -1048557, 0, 0, -1048556, 0, 0, -1048555, 0, 0, -1048545, 0, 0, -917505, 0, 0, -983024, 0, 0, -983023, 0, 0, -983022, 0, 0, -983021, 0, 0, -983020, 0, 0, -983019, 0, 0, -983018, 0, 0, -983009, 0, 0, -851969, 0, 0, -917487, 0, 0, -917486, 0, 0, -917485, 0, 0, -917484, 0, 0, -917483, 0, 0, -917482, 0, 0, -917481, 0, 0, -917473, 0, 0, -786433, 0, 0, -851937, 0, 0, -720897, 0, 0, -786401, 0, 0, -655361, 0, 0, -720865, 0, 0, -589825, 0, 0, -655351, 0, 0, -655350, 0, 0, -655349, 0, 0, -655348, 0, 0, -655347, 0, 0, -655346, 0, 0, -655345, 0, 0, -655344, 0, 0, -655343, 0, 0, -655342, 0, 0, -655341, 0, 0, -655340, 0, 0, -655339, 0, 0, -655338, 0, 0, -655337, 0, 0, -655336, 0, 0, -655335, 0, 0, -655334, 0, 0, -655333, 0, 0, -655332, 0, 0, -655331, 0, 0, -655330, 0, 0, -655329, 0, 0, -524289, 0, 0, -589815, 0, 0, -589793, 0, 0, -458753, 0, 0, -524284, 0, 0, -524283, 0, 0, -524282, 0, 0, -524281, 0, 0, -524280, 0, 0, -524279, 0, 0, -524257, 0, 0, -393217, 0, 0, -458748, 0, 0, -458721, 0, 0, -327681, 0, 0, -393212, 0, 0, -393185, 0, 0, -262145, 0, 0, -327676, 0, 0, -327649, 0, 0, -196609, 0, 0, -262135, 0, 0, -262113, 0, 0, -131073, 0, 0, -196600, 0, 0, -196599, 0, 0, -196598, 0, 0, -196577, 0, 0, -65537, 0, 0, -131065, 0, 0, -131064, 0, 0, -131063, 0, 0, -131062, 0, 0, -131061, 0, 0, -131041, 0, 0, -1, 0, 0, -65529, 0, 0, -65528, 0, 0, -65527, 0, 0, -65526, 0, 0, -65525, 0, 0, -65505, 0, 0, 65535, 0, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0, 16, 0, 0, 31, 0, 0, 131071, 0, 0, 65567, 0, 0, 196607, 0, 0, 131103, 0, 0, 262143, 0, 0, 327679, 0, 0, 393215, 0, 0, 458751, 0, 0, 524287, 0, 0, 589823, 0, 0, 589824, 0, 0, 589825, 0, 0, 589826, 0, 0, 589827, 0, 0, 589828, 0, 0, 589829, 0, 0, 589830, 0, 0, 589831, 0, 0, 589832, 0, 0, 589833, 0, 0, 589834, 0, 0, 589835, 0, 0, 589836, 0, 0, 589837, 0, 0, 589838, 0, 0, 589839, 0, 0, 589840, 0, 0, 589841, 0, 0, 589842, 0, 0, 589843, 0, 0, 589844, 0, 0, 589845, 0, 0, 589846, 0, 0, 589847, 0, 0, 589848, 0, 0, 589849, 0, 0, 589850, 0, 0, 589851, 0, 0, 589852, 0, 0, 589853, 0, 0, 589854, 0, 0, 589855, 0, 0 )

[node name="Puzzle System" type="Node2D" parent="."]

[node name="Puzzle Pieces" type="Node2D" parent="Puzzle System"]

[node name="Square" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1576, -112 )
piece_type = "REFLECTOR"

[node name="Square2" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1136, -96 )
rotation = 4.71238
piece_type = "REFLECTOR"

[node name="Square10" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1360, -112 )
rotation = 6.28318
piece_type = "REFLECTOR"

[node name="Square4" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1656, -2056 )
rotation = 1.57079
piece_type = "REFLECTOR"

[node name="Square5" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1888, -2008 )
rotation = 3.14159
piece_type = "REFLECTOR"

[node name="Square6" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1160, -2072 )
rotation = 6.28522
piece_type = "REFLECTOR"

[node name="Square7" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1424, -2016 )
rotation = 4.71238
piece_type = "REFLECTOR"

[node name="Square8" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 456, -2056 )
rotation = 6.28318
piece_type = "REFLECTOR"

[node name="Square9" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 768, -2064 )
rotation = 7.85397
piece_type = "REFLECTOR"

[node name="Square3" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 19 )]
position = Vector2( 1864, -128 )
rotation = 7.85397
piece_type = "REFLECTOR"

[node name="Platform" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 21 )]
position = Vector2( 224, 192 )
piece_type = "PLATFORM"

[node name="Platform2" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 21 )]
position = Vector2( 920, 464 )
piece_type = "PLATFORM"

[node name="Triangle" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 27 )]
position = Vector2( 272, -1160 )
piece_type = "PUZZLE_PIECE"

[node name="Triangle2" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 27 )]
position = Vector2( 272, -1160 )
piece_type = "PUZZLE_PIECE"

[node name="Triangle3" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 27 )]
position = Vector2( 272, -1160 )
piece_type = "PUZZLE_PIECE"

[node name="Triangle4" parent="Puzzle System/Puzzle Pieces" instance=ExtResource( 27 )]
position = Vector2( 272, -1160 )
piece_type = "PUZZLE_PIECE"

[node name="Doors" type="Node2D" parent="Puzzle System"]
show_behind_parent = true

[node name="Door 1" parent="Puzzle System/Doors" instance=ExtResource( 26 )]
position = Vector2( 608, -824 )
key_path = NodePath("../Door 1 Key")

[node name="Door 1 Key" parent="Puzzle System/Doors" instance=ExtResource( 23 )]

[node name="Reflection Receiver" parent="Puzzle System/Doors/Door 1 Key" instance=ExtResource( 1 )]
position = Vector2( 1312, 552 )

[node name="Laser" parent="Puzzle System/Doors/Door 1 Key" instance=ExtResource( 8 )]
position = Vector2( 64, -1000 )
rotation = 1.57079
enabled = true
is_casting = true
originating_laser = true

[node name="Laser2" parent="Puzzle System/Doors/Door 1 Key" instance=ExtResource( 8 )]
position = Vector2( 1968, -2368 )
rotation = 3.14159
enabled = true
is_casting = true
originating_laser = true

[node name="Door 2" parent="Puzzle System/Doors" instance=ExtResource( 26 )]
position = Vector2( 384, -1296 )
key_path = NodePath("Door 2 Key")

[node name="Door 2 Key" parent="Puzzle System/Doors/Door 2" instance=ExtResource( 15 )]

[node name="Key Shape Part" parent="Puzzle System/Doors/Door 2/Door 2 Key" instance=ExtResource( 2 )]
position = Vector2( 1536, -496 )

[node name="Key Shape Part2" parent="Puzzle System/Doors/Door 2/Door 2 Key" instance=ExtResource( 2 )]
position = Vector2( 1536, -368 )

[node name="Key Shape Part3" parent="Puzzle System/Doors/Door 2/Door 2 Key" instance=ExtResource( 2 )]
position = Vector2( 1536, -240 )

[node name="Key Shape Part4" parent="Puzzle System/Doors/Door 2/Door 2 Key" instance=ExtResource( 2 )]
position = Vector2( 264, 1240 )

[node name="Door 3" parent="Puzzle System/Doors" instance=ExtResource( 26 )]
position = Vector2( 1976, 384 )
key_path = NodePath("../Door 3 Lasers")

[node name="Door 3 Lasers" parent="Puzzle System/Doors" instance=ExtResource( 23 )]

[node name="Reflection Receiver" parent="Puzzle System/Doors/Door 3 Lasers" instance=ExtResource( 1 )]
position = Vector2( 1760, -672 )

[node name="Triggers" type="Node2D" parent="."]

[node name="Trigger" parent="Triggers" instance=ExtResource( 17 )]
position = Vector2( 2024, 198 )
trigger_type = "BOSS_FIGHT"

[node name="Player" type="Node2D" parent="."]
position = Vector2( 152, 496 )
